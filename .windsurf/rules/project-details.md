---
trigger: always_on
---

## Technology
This is a cloudflare worker project. Always read the cloudflare [docs](docs/cloudflare-workers.md) when working on anything cloudflare related.

Cloudflare bindings are autogenerated. Add bindings in `wrangler.jsonc` and run `npm run cf-typegen` to generate types at `worker-configuration.d.ts`. These types are available globally. You don't need to import them. NEVER "augment" the bindings type. If adding a new binding, add it to `wrangler.jsonc` and run `npm run cf-typegen`.

The cloudflare worker uses Hono for application routing and JSX output. Always read the hono [docs](docs/hono.md) when working on anything hono related.

The backend of the project is implemented using Convex. This code is in the `convex` folder. Always read `.windsurf/rules/convex_rules.md` when working in this folder.

## Development environment
* All terminal commands should be run prefixed with `direnv exec .`
  Ex. `direnv exec . npm run dev` `direnv exec . npm run cf-typegen`
* The user should be running `npm run dev` already. This means the site is available at http://localhost:8787

## Development Workflow
Assume the user is running `npm run dev` and `npx convex dev` in the background. Do NOT run these yourself. If it seems like they aren't running remind the user.

1. Reference appropriate docs/knowledge
2. Make changes
3. Run `direnv exec . npx convex dev --once` to confirm changes
4. Repeat